---
import Layout from "../../../layouts/Layout.astro";
import { EventEditPage } from "../../../components/events/EventEditPage.tsx";
import { ToastProvider } from "../../../components/ToastProvider.tsx";

export const prerender = false;

const rawId = Astro.params.id;
const eventId = rawId ? Number.parseInt(rawId, 10) : Number.NaN;
const isValidEventId = Number.isInteger(eventId) && eventId > 0;
---

<Layout title={`Edycja wydarzenia ${rawId} - FairPlay`}>
  {
    isValidEventId ? (
      <>
        <EventEditPage client:load eventId={eventId} />
        <ToastProvider client:load />
      </>
    ) : (
      <div class="container mx-auto px-4 py-8">
        <p class="text-muted-foreground">Nieprawid≈Çowy identyfikator wydarzenia.</p>
      </div>
    )
  }
</Layout>
